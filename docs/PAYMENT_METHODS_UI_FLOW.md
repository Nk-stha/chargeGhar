# Payment Methods UI Structure & Flow

## ðŸ“ UI Layout Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Admin Dashboard                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           â”‚                    Header                                â”‚
â”‚           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           â”‚  Payment Methods                                         â”‚
â”‚  Sidebar  â”‚  Manage payment gateways and their configurations       â”‚
â”‚           â”‚                                        [+ Add Payment]   â”‚
â”‚  â€¢ Home   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Stationâ”‚  [Search...]           Total: 3 | Active: 3            â”‚
â”‚  â€¢ Users  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ KYC    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â€¢ Rental â”‚  â”‚  ðŸ’³ Payment Gateways                             â”‚  â”‚
â”‚  â€¢ Trans  â”‚  â”‚  Configure and manage available payment methods  â”‚  â”‚
â”‚  â˜… Paymentâ”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â€¢ Settingâ”‚  â”‚ Name    Gateway  Status  Currencies  Min    Max  â”‚  â”‚
â”‚           â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚           â”‚  â”‚ Khalti  khalti   Active  NPR        10.00  100K â”‚  â”‚
â”‚           â”‚  â”‚ eSewa   esewa    Active  NPR        10.00  50K  â”‚  â”‚
â”‚           â”‚  â”‚ Stripe  stripe   Active  GBP        10.00  100  â”‚  â”‚
â”‚           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ”„ User Flow Diagram

### Creating a Payment Method

```
    START
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Click "+ Add    â”‚
â”‚ Payment Method" â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Modal Opens    â”‚
â”‚  with Form      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Fills:     â”‚
â”‚ â€¢ Name          â”‚
â”‚ â€¢ Gateway       â”‚
â”‚ â€¢ Min/Max       â”‚
â”‚ â€¢ Currencies    â”‚
â”‚ â€¢ Config JSON   â”‚
â”‚ â€¢ Active Toggle â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     NO     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Validation      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Show Errors  â”‚
â”‚ (JSON, Fields)  â”‚            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
         â”‚ YES                         â”‚
         â–¼                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚ Submit to API   â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
         â”‚                             â”‚
         â–¼                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     ERROR         â”‚
â”‚ API Response    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ SUCCESS
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Show Success    â”‚
â”‚ Message         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Refresh List    â”‚
â”‚ Close Modal     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
      END
```

### Editing a Payment Method

```
    START
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Click Edit Icon â”‚
â”‚ (Pencil) on Row â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Modal Opens    â”‚
â”‚  Pre-filled     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Modifies   â”‚
â”‚ Fields          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Click "Update"  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PATCH Request   â”‚
â”‚ to API          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Success Message â”‚
â”‚ List Refreshed  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
      END
```

### Deleting a Payment Method

```
    START
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Click Delete    â”‚
â”‚ Icon (Trash)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     NO     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Confirmation    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Cancel     â”‚
â”‚ Dialog          â”‚            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
         â”‚ YES                         â”‚
         â–¼                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚ DELETE Request  â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
         â”‚                             â”‚
         â–¼                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚ Success Message â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
         â”‚                             â”‚
         â–¼                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚ Refresh List    â”‚                   â”‚
â”‚ Remove from UI  â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
         â”‚                             â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
      END
```

## ðŸŽ¨ Component Hierarchy

```
page.tsx (PaymentMethodsPage)
â”‚
â”œâ”€â”€â”€ Header Section
â”‚    â”œâ”€â”€â”€ Title & Subtitle
â”‚    â””â”€â”€â”€ Add Button
â”‚
â”œâ”€â”€â”€ Success/Error Banners (conditional)
â”‚    â”œâ”€â”€â”€ Success Message (auto-dismiss 3s)
â”‚    â””â”€â”€â”€ Error Message
â”‚
â”œâ”€â”€â”€ Controls Section
â”‚    â”œâ”€â”€â”€ Search Input
â”‚    â”‚    â”œâ”€â”€â”€ Search Icon
â”‚    â”‚    â”œâ”€â”€â”€ Input Field
â”‚    â”‚    â””â”€â”€â”€ Clear Button (conditional)
â”‚    â”‚
â”‚    â””â”€â”€â”€ Statistics
â”‚         â”œâ”€â”€â”€ Total Count
â”‚         â””â”€â”€â”€ Active Count
â”‚
â”œâ”€â”€â”€ Card Section
â”‚    â”œâ”€â”€â”€ Card Header
â”‚    â”‚    â”œâ”€â”€â”€ Title with Icon
â”‚    â”‚    â””â”€â”€â”€ Subtitle
â”‚    â”‚
â”‚    â””â”€â”€â”€ Table / Empty State
â”‚         â”‚
â”‚         â”œâ”€â”€â”€ Table (if data exists)
â”‚         â”‚    â”œâ”€â”€â”€ Table Header
â”‚         â”‚    â””â”€â”€â”€ Table Body
â”‚         â”‚         â””â”€â”€â”€ Rows (map)
â”‚         â”‚              â”œâ”€â”€â”€ Name Cell
â”‚         â”‚              â”œâ”€â”€â”€ Gateway Cell
â”‚         â”‚              â”œâ”€â”€â”€ Status Cell
â”‚         â”‚              â”œâ”€â”€â”€ Currencies Cell
â”‚         â”‚              â”œâ”€â”€â”€ Amount Cells
â”‚         â”‚              â”œâ”€â”€â”€ Config Cell (masked)
â”‚         â”‚              â”œâ”€â”€â”€ Date Cell
â”‚         â”‚              â””â”€â”€â”€ Actions Cell
â”‚         â”‚                   â”œâ”€â”€â”€ Edit Button
â”‚         â”‚                   â””â”€â”€â”€ Delete Button
â”‚         â”‚
â”‚         â””â”€â”€â”€ Empty State (if no data)
â”‚              â”œâ”€â”€â”€ Icon
â”‚              â”œâ”€â”€â”€ Message
â”‚              â””â”€â”€â”€ CTA Button (optional)
â”‚
â””â”€â”€â”€ Modal (conditional)
     â””â”€â”€â”€ PaymentMethodModal
          â”œâ”€â”€â”€ Header
          â”‚    â”œâ”€â”€â”€ Title
          â”‚    â””â”€â”€â”€ Close Button
          â”‚
          â”œâ”€â”€â”€ Error Banner (conditional)
          â”‚
          â”œâ”€â”€â”€ Form
          â”‚    â”œâ”€â”€â”€ Name & Gateway Row
          â”‚    â”œâ”€â”€â”€ Min & Max Amount Row
          â”‚    â”œâ”€â”€â”€ Currencies Input
          â”‚    â”œâ”€â”€â”€ Configuration Textarea
          â”‚    â””â”€â”€â”€ Active Checkbox
          â”‚
          â””â”€â”€â”€ Footer
               â”œâ”€â”€â”€ Cancel Button
               â””â”€â”€â”€ Submit Button
```

## ðŸ”Œ API Integration Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚
â”‚   Component     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ axios.get/post/patch/delete
         â”‚ + Bearer Token
         â”‚ + CSRF Token (mutations)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Next.js API    â”‚
â”‚  Route Handler  â”‚
â”‚  /api/payment-  â”‚
â”‚    methods/*    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ FormData conversion
         â”‚ Token forwarding
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Backend API   â”‚
â”‚   (Django)      â”‚
â”‚   /admin/       â”‚
â”‚   payment-      â”‚
â”‚   methods/*     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ JSON Response
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Next.js API    â”‚
â”‚  Route Handler  â”‚
â”‚  (proxy back)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ JSON Response
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚
â”‚   Updates UI    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ“Š State Management Flow

```
Component State (useState)
â”œâ”€â”€â”€ paymentMethods: PaymentMethod[]
â”œâ”€â”€â”€ loading: boolean
â”œâ”€â”€â”€ error: string | null
â”œâ”€â”€â”€ search: string
â”œâ”€â”€â”€ showModal: boolean
â”œâ”€â”€â”€ editingMethod: PaymentMethod | null
â”œâ”€â”€â”€ deleteLoading: string | null
â””â”€â”€â”€ successMessage: string | null

Component Effects (useEffect)
â”œâ”€â”€â”€ Initial Load â†’ fetchPaymentMethods()
â””â”€â”€â”€ Success Message â†’ Auto-dismiss after 3s

Computed Values (useMemo)
â””â”€â”€â”€ filteredMethods â†’ Based on search query

Event Handlers
â”œâ”€â”€â”€ handleDelete(id, name)
â”œâ”€â”€â”€ handleEdit(method)
â”œâ”€â”€â”€ handleModalClose()
â””â”€â”€â”€ handleModalSuccess(message)
```

## ðŸŽ­ UI States

### 1. Loading State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚        ðŸ”„ Loading...        â”‚
â”‚  Loading payment methods... â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Empty State (No Data)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚       ðŸ’³ (big icon)         â”‚
â”‚  No payment methods         â”‚
â”‚       configured            â”‚
â”‚                             â”‚
â”‚  [+ Add Your First Method]  â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Empty State (Search No Results)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚       ðŸ” (big icon)         â”‚
â”‚  No payment methods match   â”‚
â”‚       your search           â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. Data State (Normal)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name   Gateway   Status ... â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Khalti  khalti   Active ... â”‚
â”‚ eSewa   esewa    Active ... â”‚
â”‚ Stripe  stripe   Active ... â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. Success State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ Payment method created    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  (auto-dismiss after 3s)
```

### 6. Error State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš  Failed to create payment  â”‚
â”‚   method. Please try again. â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ” Security Flow

```
User Action
    â”‚
    â–¼
Check localStorage
    â”‚
    â”œâ”€â”€â”€ No Token â†’ Redirect to /login
    â”‚
    â””â”€â”€â”€ Has Token
         â”‚
         â–¼
    Add to Request
    â”œâ”€â”€â”€ Authorization: Bearer {token}
    â””â”€â”€â”€ X-CSRFTOKEN: {csrf}
         â”‚
         â–¼
    API Call
         â”‚
         â”œâ”€â”€â”€ 401 Unauthorized â†’ Token Refresh
         â”‚    â”‚
         â”‚    â”œâ”€â”€â”€ Success â†’ Retry Request
         â”‚    â””â”€â”€â”€ Fail â†’ Redirect to /login
         â”‚
         â””â”€â”€â”€ Success â†’ Process Response
```

## ðŸ“± Responsive Breakpoints

```
Desktop (> 1400px)
â”œâ”€â”€â”€ Full width with padding: 5rem
â”œâ”€â”€â”€ Table with all columns visible
â””â”€â”€â”€ Modal: centered, max-width 700px

Tablet (768px - 1400px)
â”œâ”€â”€â”€ Padding: 3rem
â”œâ”€â”€â”€ Table scrollable horizontally
â””â”€â”€â”€ Modal: centered, max-width 90%

Mobile (< 768px)
â”œâ”€â”€â”€ Padding: 2rem 1rem
â”œâ”€â”€â”€ Table with horizontal scroll
â”œâ”€â”€â”€ Stacked controls
â”œâ”€â”€â”€ Full-width modal
â””â”€â”€â”€ 2-column form becomes 1-column
```

## ðŸŽ¨ Color System

```
Background Hierarchy
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  #0b0b0b (Page Background)  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  #121212 (Card)        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ #1a1a1a (Table)  â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Status Colors
â”œâ”€â”€â”€ Active: #00ff99 (Success Green)
â”œâ”€â”€â”€ Inactive: #ff4444 (Error Red)
â”œâ”€â”€â”€ Primary: #32cd32 (Lime Green)
â”œâ”€â”€â”€ Secondary: #47b216 (Dark Green)
â””â”€â”€â”€ Accent: #82ea80 (Light Green)

Text Colors
â”œâ”€â”€â”€ Primary: #fff (White)
â”œâ”€â”€â”€ Secondary: #aaa (Gray)
â””â”€â”€â”€ Disabled: #666 (Dark Gray)
```

## âš¡ Performance Optimizations

```
Component Level
â”œâ”€â”€â”€ useMemo for filtered results
â”‚    â””â”€â”€â”€ Only recalculates on search/data change
â”‚
â”œâ”€â”€â”€ Individual loading states
â”‚    â””â”€â”€â”€ Prevents full-page blocking
â”‚
â””â”€â”€â”€ Conditional rendering
     â””â”€â”€â”€ Modal only renders when shown

API Level
â”œâ”€â”€â”€ Pagination support (backend)
â”œâ”€â”€â”€ Optimistic UI updates
â””â”€â”€â”€ Error rollback on failure

CSS Level
â”œâ”€â”€â”€ CSS animations (not JS)
â”œâ”€â”€â”€ Hardware-accelerated transforms
â””â”€â”€â”€ Minimal repaints
```

## ðŸ§© Data Flow Summary

```
[User Action]
     â”‚
     â–¼
[Local State Update]
     â”‚
     â–¼
[API Call] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º [Next.js Route]
     â”‚                      â”‚
     â”‚                      â–¼
     â”‚                 [Backend API]
     â”‚                      â”‚
     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
[Update State]
     â”‚
     â–¼
[Re-render UI]
     â”‚
     â–¼
[Show Feedback]
```

---

**This UI provides a complete, intuitive payment management experience with proper error handling, loading states, and user feedback at every step.**